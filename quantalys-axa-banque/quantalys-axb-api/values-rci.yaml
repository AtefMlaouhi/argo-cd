application-api:
  hosts:
    - quantalys-axb-api-rci.harvest.fr
  image:
    tag: 24.06.14-1
  extraEnv:
    - name: ConnectionStrings__AxbDbConnection
      valueFrom:
        secretKeyRef:
          name: connection-strings
          key: sqlserver-axb
    # Keycloak
    - name: Keycloak__ClientId
      valueFrom:
        secretKeyRef:
          name: keycloak
          key: client-quantalys-user-axb-api
    # MAAM
    - name: MaamSettings__ClientId
      valueFrom:
        secretKeyRef:
          name: maam-credentials
          key: client-id
    - name: MaamSettings__ClientSecret
      valueFrom:
        secretKeyRef:
          name: maam-credentials
          key: client-secret
    # B.API
    - name: BApiSettings__ClientId
      valueFrom:
        secretKeyRef:
          name: b-api-credentials
          key: client-id
    - name: BApiSettings__ClientSecret
      valueFrom:
        secretKeyRef:
          name: b-api-credentials
          key: client-secret
    # ABS
    - name: ArkeaBankingServicesSettings__CertificatePath
      valueFrom:
        secretKeyRef:
          name: arkea-credentials
          key: certificate_path
    - name: ArkeaBankingServicesSettings__CertificatePassword
      valueFrom:
        secretKeyRef:
          name: arkea-credentials
          key: certificate_password
  appsettingsJson:
    OpenTelemetrySettings__Endpoint: opentelemetry-k8s.dev.harvest.fr
    OpenTelemetrySettings__ServiceName: dev-quantalys-customer-Axb-api
    MaamSettings__TokenUrl: https://maam-dev.axa.com/maam/v2/token
    UserContextSettings__ServiceBaseUrl: https://eip-rec.axa-fr.intraxa/gateway/fr-assets-contextmanager-v1-vs/api
    FcaScoringSettings__ServiceBaseUrl: https://eip-rec.axa-fr.intraxa/ws/fr-fca-cst-scoring-v1-vrs
    BApiSettings__ServiceBaseUrl: https://inteipshgw01.ppcloudmgmt.intraxa/gateway/axb-datalake-cap-auth-bankdata-v1-vrs
    ArkeaBankingServicesSettings__ServiceBaseUrl: https://inteipaxbgw01.ppcloudmgmt.intraxa/gateway/axb-arkea-mng-person-v2-vrs
    Keycloak__Authority: https://keycloak-dev.harvest-r7.fr/auth/realms/AxbUsers
    Keycloak__Audiences:
      - account
    Cors__AllowedOrigins:
      # Front
      - quantalys-axb-rci.harvest.fr
      # Swagger
      - quantalys-axb-api-rci.harvest.fr
    TestingSettings__AllowTestingEndpoints: true
    HttpSocket__RemoteCertificateValidation: false
    # API plugs (to be removed once we get the credentials)
    BApiSettings__UseMockedData: true
    ArkeaBankingServicesSettings__UseMockedData: true
podAnnotations:
  version: 24.06.14-1
