minio:
  image:
    tag: 2023.9.30-debian-11-r2
  fullnameOverride: policy-act-bucket
  mode: standalone
  auth:
    existingSecret: bucket
  persistence:
    enabled: true
    size: 512Mi

  metrics:
    serviceMonitor:
      enabled: true

  provisioning:
    enabled: true
    buckets:
      - name: test-bucket
        lifecycle:
          - id: 7dRetention
            disabled: false
            expiry:
              days: 7
    users:
      - username: test-username
        password: test-password
        disabled: false
    podLabels:
      policy-act-bucket-client: "true"
    podAnnotations:
      proxy.istio.io/config: '{ "holdApplicationUntilProxyStarts": true }' # Ensure proxy is started before starting the app container
  resources:
    limits:
      cpu: 100m
      memory: 256Mi
    requests:
      cpu: 10m
      memory: 256Mi

  networkPolicy:
    enabled: true
    allowExternal: false
